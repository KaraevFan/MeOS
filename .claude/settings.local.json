{
  "permissions": {
    "allow": [
      "Bash(npx create-next-app@latest . --typescript --tailwind --eslint --app --src-dir=false --import-alias=\"@/*\" --use-npm)",
      "Bash(npx create-next-app:*)",
      "Bash(npm install:*)",
      "Bash(timeout 15 npm run dev)",
      "Bash(npx next build:*)",
      "Bash(git init:*)",
      "Bash(git -C /Users/tomoyukikano/Desktop/Projects/Kairn status)",
      "Bash(git -C /Users/tomoyukikano/Desktop/Projects/Kairn add .claude .env.local.example .gitignore CLAUDE.md Docs app eslint.config.mjs lib next.config.ts package-lock.json package.json postcss.config.js tailwind.config.ts tsconfig.json)",
      "Bash(git -C /Users/tomoyukikano/Desktop/Projects/Kairn commit -m \"$\\(cat <<''EOF''\nfeat: initialize Next.js project with MeOS design tokens\n\nSet up Next.js 14+ App Router with TypeScript, Tailwind CSS configured\nwith the MeOS warm color palette, Satoshi font, and design system tokens.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(npx supabase:*)",
      "Bash(git -C /Users/tomoyukikano/Desktop/Projects/Kairn add:*)",
      "Bash(git -C /Users/tomoyukikano/Desktop/Projects/Kairn commit -m \"$\\(cat <<''EOF''\nfeat: add Supabase config, database schema, and auth middleware\n\nAdd initial migration with all tables \\(users, life_maps, life_map_domains,\nsessions, messages, patterns, push_subscriptions\\) with RLS policies.\nSet up browser/server Supabase clients and Next.js auth middleware.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Users/tomoyukikano/Desktop/Projects/Kairn commit -m \"$\\(cat <<''EOF''\nfeat: add authentication with Google OAuth and magic link\n\nLogin page with Google OAuth and email magic link via Supabase Auth.\nAuth callback route exchanges code for session and creates user record.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Users/tomoyukikano/Desktop/Projects/Kairn commit -m \"$\\(cat <<''EOF''\nfeat: add app shell with bottom tab navigation\n\nMain layout with auth guard, bottom tab bar \\(Home, Chat, Life Map, History\\)\nwith active state indicators, and placeholder pages for all tabs.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Users/tomoyukikano/Desktop/Projects/Kairn commit -m \"$\\(cat <<''EOF''\nfeat: add TypeScript types and shared constants\n\nChat types \\(MessageRole, SessionType, DomainStatus, DomainName, ChatMessage,\nDomainSummary, LifeMapSynthesis, SessionSummary, StructuredBlock, ParsedMessage\\)\nand shared constants \\(ALL_DOMAINS, SESSION_STALE_HOURS\\).\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(npx vitest run:*)",
      "Bash(git -C /Users/tomoyukikano/Desktop/Projects/Kairn commit -m \"$\\(cat <<''EOF''\nfeat: add structured output parser with streaming support\n\nParser for [DOMAIN_SUMMARY], [LIFE_MAP_SYNTHESIS], [SESSION_SUMMARY] blocks.\nIncludes streaming chunk parser and 10 passing vitest tests.\nHandles malformed output gracefully by falling back to plain text.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Users/tomoyukikano/Desktop/Projects/Kairn commit -m \"$\\(cat <<''EOF''\nfeat: add Claude API streaming chat route with system prompts\n\nSystem prompts for life mapping and weekly check-in from MVP_PRD.md.\nContext builder injects life map, session summaries, patterns, and\nlast commitment for check-ins. SSE streaming API route at /api/chat.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Users/tomoyukikano/Desktop/Projects/Kairn commit -m \"$\\(cat <<''EOF''\nfeat: add chat UI with streaming responses and message persistence\n\nChat view with SSE streaming, message bubbles \\(user/Sage styling\\),\ntyping indicator, auto-scroll, text input with send button, voice\nbutton placeholder, session recovery from Supabase, and inline\nerror/retry handling.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Users/tomoyukikano/Desktop/Projects/Kairn commit -m \"$\\(cat <<''EOF''\nfeat: add domain cards, synthesis cards, and quick-reply buttons\n\nDomain cards with status dots, structured fields, and edit affordance.\nSynthesis cards with narrative, compounding engine, priorities, tensions,\nand anti-goals. Quick-reply pill buttons for remaining domains + wrap up.\nBuilding-card placeholder during structured block streaming.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Users/tomoyukikano/Desktop/Projects/Kairn commit -m \"$\\(cat <<''EOF''\nfeat: add session lifecycle, life map persistence, and session recovery\n\nSession helpers \\(create, complete, update summary, track domains\\).\nLife map helpers \\(get/create, upsert domain, update synthesis\\).\nChat view now persists domain cards to life map, saves synthesis,\ncompletes sessions on synthesis/summary detection, and marks\nonboarding complete after first life mapping.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Users/tomoyukikano/Desktop/Projects/Kairn commit -m \"$\\(cat <<''EOF''\nfeat: add voice recording and Whisper transcription\n\nVoice recorder hook using MediaRecorder API with mic permission handling.\nTranscription API route forwarding to OpenAI Whisper. Voice button with\n3 states \\(idle/recording/processing\\): 64px amber pulse when idle, grows\nto 72px with timer during recording, spinner during processing.\nAuto-sends transcribed text to Sage.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Users/tomoyukikano/Desktop/Projects/Kairn commit -m \"$\\(cat <<''EOF''\nfeat: build home screen with check-in scheduling and priorities\n\nServer-side home data fetcher queries user profile, last check-in date,\nand life map priorities. Home page shows time-based greeting, pre/post\nonboarding states, next check-in with relative date, top 3 priorities,\nand Talk to Sage quick-start.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat: add Life Map view with synthesis section and expandable domain cards\n\nRenders the user''s life map with narrative summary, compounding engine,\npriorities, tensions, and anti-goals. Domain cards expand/collapse to\nshow full detail. Unexplored domains shown as muted placeholders.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(ls:*)",
      "Bash(git commit:*)",
      "Bash(node -e:*)",
      "Bash(npm run lint:*)",
      "Bash(git status:*)",
      "Bash(git checkout:*)",
      "Bash(git remote add:*)",
      "Bash(git remote set-url:*)",
      "Bash(git push:*)",
      "Bash(find:*)",
      "Bash(grep:*)",
      "Bash(npm run dev:*)",
      "Bash(open:*)",
      "Bash(git pull:*)",
      "Bash(npx tsc:*)",
      "Bash(npx jest:*)",
      "Bash(git log:*)",
      "Bash(gh pr create:*)",
      "Bash(gh pr checks:*)",
      "Bash(gh pr merge:*)",
      "Bash(gh pr view:*)",
      "Bash(npx vercel ls:*)",
      "Bash(gh api:*)",
      "Bash(git fetch:*)",
      "Bash(unzip:*)",
      "Bash(npm run build:*)",
      "Bash(npm audit:*)",
      "mcp__plugin_compound-engineering_context7__resolve-library-id",
      "WebSearch",
      "mcp__plugin_compound-engineering_context7__query-docs",
      "WebFetch(domain:supabase.com)",
      "Bash(git symbolic-ref:*)"
    ]
  }
}
