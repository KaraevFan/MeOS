# MeOS Playtest 6 â€” UI & Conversation Flow Fixes

> For Claude Code implementation (separate from data architecture spec)
> Source: Playtest 6 observations + design review, Feb 22 2026

---

## Ticket A: Rewrite Morning Session Opening Message

### Problem
The current hard-coded opening message is: "Let's set the tone for today."

This is too vague. It puts the burden on the user to generate energy and figure out what to say. In testing, the user responded "Ok" â€” the politest possible version of "I don't know what you want from me." The opening message is the most important moment in the daily loop. If it doesn't land, the whole session starts flat.

### Current Behavior
- The first message in an `open_day` session is a hard-coded string: "Good morning, [name]. Let's set the tone for today."
- This is static â€” it doesn't reference anything Sage knows about the user, the day, or what happened yesterday

### Desired Behavior
Sage's opening message should **lead with context** â€” something it already knows â€” so the user can react rather than initiate. The message should be dynamic, pulling from available data to feel personalized and grounded.

### Implementation

1. **Replace the hard-coded opening message** with a dynamic one generated from context. The `open_day` session already has access to:
   - Current day of week and date
   - Calendar events (if connected)
   - Yesterday's day plan / intention (from `day-plans/{yesterday}.md`)
   - Yesterday's uncompleted priorities (from `day_plans` table â€” this may be added by the architecture spec)
   - Yesterday's captures
   - The user's name
   - Weekly priorities (from `life-plan/weekly.md` â€” this may be added by the architecture spec)

2. **The opening message should be Sage's first AI-generated response**, not a hard-coded string. Remove the hard-coded message and instead let the system prompt instruct Sage on how to open.

3. **Add opening instructions to the `open_day` system prompt:**

```
Your opening message should be warm, specific, and grounded in what you know.
Lead with context â€” the day, what's on the calendar, what carried over from
yesterday â€” so the user can orient quickly and react rather than having to
generate energy from scratch.

Good openings:
- "Morning, Tom. It's Sunday â€” quiet calendar. You've got two things carried
  from yesterday: calendar integration and picking up contact lenses. How are
  you feeling heading in?"
- "Hey Tom, Wednesday. You've got a 10am with Sarah and a 2pm design review.
  Yesterday you said you wanted to focus on the MVP spec â€” still the priority?"
- "Morning. It's been three days since your last session. No pressure â€” want
  to catch up on what's been happening, or just plan today?"

Bad openings:
- "Let's set the tone for today." (too vague, puts burden on user)
- "Good morning! How are you feeling?" (generic, doesn't use context)
- "Ready to make today count?" (motivational poster energy, not Sage's voice)

After the opening, move into the pulse check (mood/energy question).
Keep the opening to 2-3 sentences max. Don't overwhelm.
```

4. **If this is the user's first-ever morning session** (no yesterday data, no weekly plan), Sage can fall back to something simple but still warm:
```
"Morning, [name]. This is your first morning session â€” I'll keep it quick.
Just want to check in on how you're feeling and see if there's one thing
you want to focus on today."
```

### Acceptance Criteria
- Opening message references at least one piece of real context (day of week, calendar, yesterday's items, etc.)
- Opening message is AI-generated, not hard-coded
- The tone is warm and specific, not generic motivational
- First-ever session has a graceful fallback that doesn't feel empty
- Opening is 2-3 sentences max, then flows naturally into pulse check

---

## Ticket B: Redesign Pulse Check Component

### Problem
The current pulse check (mood/energy selector) has two UI issues:
1. **Emojis are doubling up** â€” displaying as "ğŸ”¥ğŸ”¥ Fired up" instead of "ğŸ”¥ Fired up"
2. **Horizontal scrolling required** â€” the options don't all fit on screen, requiring the user to swipe sideways to see all choices

For what should be a 2-second, zero-friction interaction, any scrolling is a failure. The current implementation uses quick-reply button chips that overflow horizontally.

### Current Behavior
- Mood/energy options appear as horizontal quick-reply chips below Sage's message
- Options include: ğŸ”¥ğŸ”¥ Fired up, âš¡âš¡ Focused, ğŸ˜ğŸ˜ Neutral, and others (cut off by scroll)
- Each emoji appears twice (rendering bug)
- User must scroll horizontally to see all options

### Desired Behavior
A custom pulse check UI component that:
- Displays ALL options visible at once (no scrolling)
- Single emoji per option (fix the doubling bug)
- One tap to select, then conversation continues immediately
- Feels like a quick vibe check, not a form to fill out

### Design Options (pick one during implementation)

**Option A: Vertical Stack (recommended)**
A full-width card with 5 options stacked vertically, each as a tappable row:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  How are you feeling today?     â”‚
â”‚                                 â”‚
â”‚  ğŸ”¥  Fired up                   â”‚
â”‚  âš¡  Focused                    â”‚
â”‚  ğŸ˜  Neutral                    â”‚
â”‚  ğŸ˜”  Low                        â”‚
â”‚  ğŸ˜©  Struggling                 â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Each row is a full-width tap target (minimum 44px height). Selecting one highlights it briefly, then the selection is sent as the user's response and the conversation continues.

**Option B: Emoji Row**
A single horizontal row of just emojis (no labels), with labels appearing below on hover/tap:

```
   ğŸ”¥    âš¡    ğŸ˜    ğŸ˜”    ğŸ˜©
              Neutral
```

This is more compact but less accessible â€” relies on emoji interpretation without labels.

**Option C: Circular/Radial Picker**
A Daylio-style face picker with 5 options in a curved row. Visually distinctive but more complex to build.

### Implementation Notes

1. **Fix the emoji doubling bug first** â€” before building any new component, find why emojis are rendering twice. This is likely in the quick-reply button rendering logic where the emoji is included in both a prefix/icon field AND the label text.

2. **Build a custom `PulseCheckCard` component** rather than using the generic quick-reply chip system. This should be a distinct UI element that the chat view recognizes and renders differently from normal quick replies.

3. **The component should be triggered** when Sage's message includes a pulse check question. Either:
   - Sage emits a structured block like `[PULSE_CHECK]` that the frontend parses and renders as the custom component, OR
   - The frontend detects the pulse check question pattern and swaps in the custom component

4. **On selection:**
   - The selected mood is sent as the user's message (e.g., "ğŸ˜ Neutral")
   - The component becomes non-interactive (shows the selection, greyed out or with a checkmark)
   - The conversation continues with Sage's next response

5. **Styling should match the app's warm aesthetic:**
   - Warm off-white card background
   - Subtle border or shadow
   - Amber/gold highlight on the selected option
   - Smooth, quick transition on tap (no slow animations)

### Acceptance Criteria
- All 5 mood options visible at once without scrolling
- Single emoji per option (doubling bug fixed)
- One tap to select â€” no confirmation step, conversation flows immediately
- Selected option is visually confirmed (highlight, checkmark, or similar)
- Component is non-interactive after selection (prevents double-submission)
- Touch targets meet minimum 44px height
- Works on all mobile viewport widths (320px minimum)

---

## Ticket C: Fix Calendar Widget Missing on Day Plan Page

### Problem
The Day Plan page (`/day` tab) does not show the calendar widget/section, even though it was believed to be fixed in a previous cycle. The Home screen shows a "Connect your calendar" card, but the Day Plan view â€” which is where calendar context matters most â€” doesn't display calendar events or a connection prompt.

Note: There is a separate OAuth error when clicking "Connect" on the Home screen (covered in the architecture spec as Ticket 6). This ticket is about the Day Plan page not rendering any calendar UI at all.

### Investigation Steps

1. **Check the Day Plan page component** (likely `app/(main)/day/page.tsx` or similar) for:
   - Is there a calendar section in the JSX?
   - Is it conditionally rendered based on integration status?
   - Is there a data fetch for calendar events that's failing silently?

2. **Compare with the Home screen calendar card** â€” the Home screen successfully renders a "Connect your calendar" prompt. The Day Plan page should either:
   - Show the same connection prompt if calendar isn't connected, OR
   - Show today's calendar events if connected

3. **Check if the calendar section was accidentally removed** during recent refactoring, or if it's behind a feature flag or conditional that's evaluating incorrectly

### Desired Behavior

**If calendar is NOT connected:**
The Day Plan page should show a subtle prompt:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“…  No calendar connected      â”‚
â”‚  Connect Google Calendar to see â”‚
â”‚  today's events here.           â”‚
â”‚  [Connect]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**If calendar IS connected:**
The Day Plan page should show today's events in a clean timeline or list:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“…  TODAY'S SCHEDULE           â”‚
â”‚                                 â”‚
â”‚  10:00 AM  Team standup (30m)   â”‚
â”‚   2:00 PM  Design review (1h)   â”‚
â”‚   4:30 PM  1:1 with Sarah (30m) â”‚
â”‚                                 â”‚
â”‚  No evening events              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Acceptance Criteria
- Day Plan page renders a calendar section (either connection prompt or event list)
- If connected, today's events display correctly with times and durations
- If not connected, a connect prompt appears (linking to the same OAuth flow as the Home screen)
- Calendar section is positioned logically within the Day Plan layout (likely near the top, before or after the intention/priorities section)

---

## Implementation Order

| Order | Ticket | Effort | Impact |
|-------|--------|--------|--------|
| 1 | Ticket B: Pulse Check Redesign | Medium (2-3 hrs) | Fixes the most visually broken component |
| 2 | Ticket A: Opening Message Rewrite | Small (1 hr) | Prompt-only change, big UX improvement |
| 3 | Ticket C: Calendar on Day Plan | Small-Medium (1-2 hrs) | Likely a rendering bug fix |

These are independent of the data architecture tickets and can be implemented in parallel.